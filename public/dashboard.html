<!DOCTYPE html>
<html lang="en">
    <head>
        <link rel="icon" type="image/x-icon" href="https://du11hjcvx0uqb.cloudfront.net/dist/images/favicon-e10d657a73.ico" />
        <title>Dashboard</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link href="assets/styles/dashboard_style.css" rel="stylesheet">
    </head>
    <style>
        body {
            background: white;
            flex: 1 1 auto;
            margin: 0;
        }
        body::-webkit-scrollbar {
            width: 12px;
        }
        body::-webkit-scrollbar-track {
            background: repeating-linear-gradient(rgb(255, 71, 71), red);
        }
        body::-webkit-scrollbar-thumb {
            background: rgb(170, 0, 0);
        }
    </style>
    <body>
        <section id="pg-sidebar" aria-colspan="fit-content">

            <div id="top-menu-container">
                <h2 class="page-title">Dashboard</h2>
            </div>
            <div id="pg-sidebar-container">
                <div id="user-profile" aria-hidden="true">
                    <img id="user-profile-image" srcset="assets/images/avatar-50.png" />
                </div>
                <div id="page-buttons">
                    <button id="dashboard-button" aria-valuetext="true" value="/Dasboard">DB</button>
                    <button id="courses-button" aria-valuetext="true" value="/Courses">Course</button>
                </div>
                <img id="district-image-logo" srcset="assets/images/Brentwood_Union_School_District.png" onclick="redirectToPage()" />
            </div>
            <div id="pg-sidebar-filler-container">
                <div class="menu-item-icon-container" aria-hidden="true">
                    <svg xmlns="http://www.w3.org/2000/svg" class="ic-icon-svg ic-icon-svg--navtoggle" version="1.1" x="0" y="0" width="40" height="32" viewBox="0 0 40 32" xml:space="preserve">
                    <path d="M39.5,30.28V2.48H37.18v27.8Zm-4.93-13.9L22.17,4,20.53,5.61l9.61,9.61H.5v2.31H30.14l-9.61,9.61,1.64,1.64Z"/>
                </svg>        
            </div>
        </section>

        <div class="ribbon-bottom" style="position: fixed; z-index: 0; transition: all 0.5s ease-in-out; box-shadow: 0 0 10px rgba(252, 45, 45, 0.65); pointer-events: none; background: radial-gradient(red, rgb(255, 106, 106), rgb(242, 154, 154)); height: 0.5px; padding: 2.5px; width: 100%; border: 1px dashed rgb(191, 1, 1); margin-top: 2px; outline: 1px solid red; outline-offset: 1px;"></div>

        <section id="ic-card-section">
            <div>

            </div>
        </section>

    </body>

    <script>
        function redirectToPage() {
            window.location.href = 'dashboard.html';
        }
    </script>

    <script>
        const sidebarMain = document.getElementById('pg-sidebar');
        const sidebarCon = document.getElementById('pg-sidebar-container');
        const sidebarConFiller = document.getElementById('pg-sidebar-filler-container');
        const MEButton = document.getElementById('minimize-expand-button');
        const userProfile = document.getElementById('user-profile');
        const userProfileImage = document.getElementById('user-profile-image');
        const pgButton = document.getElementById('page-buttons');

        function wait(ms) {
            return new Promise(resolve => setTimeout(resolve, ms));
        }
        
        let sizeSidebarConState = true;
        let mouseHovering = false;

        // Size sidebar container on mouseover
        sidebarCon.addEventListener('mouseover', changeSidebarContainerSize => {
            if(sizeSidebarConState === true) {
                sizeSidebarConState = false;
                mouseHovering = true;
                if(sizeSidebarConState === false) {
                    wait(35).then( () => { sizeSidebarConState = true; mouseHovering = false; });
                } else if(sizeSidebarConState !== false || mouseHovering === true) { return; mouseHovering = false;}
                sidebarCon.style.width = '25%';
                sidebarCon.style.height = '85%';
                sidebarConFiller.style.width = '25%';
                sidebarConFiller.style.paddingTop = '8.75px';
                sidebarConFiller.style.paddingBottom = '8.75px';
                userProfile.style.height = '10vh';
                userProfileImage.style.height = '50px';
                userProfileImage.style.width = '50px';
                pgButton.style.gap = '3.5px';
                pgButton.style.marginTop = '5px';
            } else if(sizeSidebarConState !== true) { return; } else {
                return(mouseHovering = false);
            }
        });
        // Revert sizing on mouseout
        sidebarCon.addEventListener('mouseout', changeSidebarContainerSize => {
            if(sizeSidebarConState === true) {
                sizeSidebarConState = false;
                mouseHovering = false;
                if(sizeSidebarConState === false) {
                    wait(35).then( () => { sizeSidebarConState = true; mouseHovering = true; });
                } else if(sizeSidebarConState !== false || mouseHovering === false) { return; mouseHovering = false;}
                sidebarCon.style.width = '20%';
                sidebarCon.style.height = '35%';
                sidebarConFiller.style.width = '20%';
                sidebarConFiller.style.paddingTop = '2.75px';
                sidebarConFiller.style.paddingBottom = '2.75px';
                userProfile.style.height = '9vh';
                userProfileImage.style.height = '40px';
                userProfileImage.style.width = '40px';
                pgButton.style.gap = '1.5px';
                pgButton.style.marginTop = '0';
            } else if(sizeSidebarConState !== true) { return; } else {
                return(mouseHovering = false);
            }
        });
    </script>
</html>
